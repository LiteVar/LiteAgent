# LiteAgent DingTalk Admin - A Lightweight Agent Management System for DingTalk

English Â· [ä¸­æ–‡](README-zh_CN.md)

LiteAgent DingTalk Admin is a lightweight agent management backend system designed specifically for DingTalk integration, built with **React 19 + TypeScript + Tailwind CSS** (TailAdmin React.js). It provides developers with a complete solution for managing DingTalk robots and users.

### Version
0.1.0

## ðŸš€ Features

### Core Functional Modules

#### ðŸ¤– Robot Management
- **Robot Binding Management** - Manage the binding relationship between DingTalk robots and LiteAgent Agents.
- **Fine-grained Permission Control** - Supports creating, editing, deleting, and viewing details of robot permissions.
- **Smart Search & Pagination** - Efficient robot search and paginated browsing capabilities.

## ðŸ› ï¸ Tech Stack

### Core Technologies
- **Frontend Framework**: React 19 + TypeScript
- **Routing**: React Router v7.1.5
- **Styling Framework**: Tailwind CSS v4.0.8
- **Build Tool**: Vite v6.1.0

### Development Tools
- **API Client**: Automatically generated via OpenAPI
- **State Management**: React Hooks
- **UI Components**: Custom component library
- **Theming System**: Dark/Light mode switching

### Special Features
- âœ… Responsive design, supporting mobile devices.
- âœ… Full TypeScript coverage for type safety.
- âœ… Deep integration with DingTalk enterprise applications.
- âœ… Modern UI design and interactive experience.

## ðŸ—ºï¸ Routing Architecture

### Main Application Routes (Authentication Required)
These routes are wrapped by `AppLayout` and require the user to be authenticated through DingTalk:

| Route Path | Component | Description |
|------------|-----------|-------------|
| `/` | Home | Dashboard - Displays system overview and key metrics. |
| `/robots` | RobotManagement | Robot Management - Manages DingTalk robots and their bindings with LiteAgent Agents. |
| `/users` | UserManagement | User Management - Manages DingTalk user information and department structures. |
| `/system` | SystemInfo | System Information - Monitors system status and manages configurations. |

### Error Handling
| Route Path | Component | Description |
|------------|-----------|-------------|
| `*` | NotFound | 404 Page - Handles requests for unmatched routes. |

### Authentication Protection Mechanism
- **Global Authentication Check**: The `AppLayout` component checks for a token in `localStorage`.
- **Automatic Redirection**: Unauthenticated users are automatically redirected to `/signin`.
- **Token Management**: The API client's authentication header is automatically set after a successful login.
- **State Listening**: Listens for changes in `localStorage` to support synchronization across multiple tabs.

## ðŸ“¦ Installation and Quick Start

### Prerequisites

Before you begin, ensure your development environment meets the following requirements:

- **Node.js**: 18.x or higher (Node.js 20.x+ recommended)
- **Package Manager**: npm, yarn, or pnpm
- **DingTalk Open Platform Account**: Required for creating an enterprise application and obtaining OAuth2 configuration.

### Quick Start

#### 1. Clone the project

```bash
git clone git@gitlab.litevar.com:litevar/lite-agent/lite-agent-dingtalk-admin.git
cd lite-agent-dingTalk-admin
```

#### 2. Install dependencies

```bash
# Using npm
npm install

# Using yarn
yarn install

# Using pnpm
pnpm install
```

> ðŸ’¡ If you encounter issues with dependency installation, you can try using the `--legacy-peer-deps` flag.

#### 3. Start the development server

```bash
# Using npm
npm run dev

# Using yarn  
yarn dev

# Using pnpm
pnpm dev
```

The project will start at `http://localhost:5173`. You will be automatically redirected to the DingTalk login page on your first visit.

## ðŸ’» Development Guide

### Project Structure
```
src/
â”œâ”€â”€ api/                 # API client and type definitions
â”œâ”€â”€ components/          # React components
â”‚   â”œâ”€â”€ auth/           # Authentication-related components
â”‚   â”œâ”€â”€ robot/          # Robot management components
â”‚   â””â”€â”€ ui/             # Common UI components
â”œâ”€â”€ hooks/              # Custom React Hooks
â”œâ”€â”€ layout/             # Layout components
â”œâ”€â”€ pages/              # Page components
â””â”€â”€ utils/              # Utility functions
```

### API Usage
The project uses a type-safe client automatically generated by OpenAPI:

```typescript
import { client } from '../api';

// The authentication header is automatically included
const response = await client.getRobots();
```

### Component Development Guidelines
- Write all components in TypeScript.
- Follow the React Hooks pattern.
- Use Tailwind CSS for styling.
- Adhere to the Single Responsibility Principle for components.

## ðŸš€ Deployment Instructions

### Production Build
```bash
# Install dependencies
npm install

# Build for production
npm run build
```

### Environment Variable Configuration
Create a `.env.production` file:
```env
VITE_API_BASE_URL=https://your-api-domain.com
```

### Static File Deployment
Deploy the `dist` directory to your static file server, such as:
- Nginx
- Apache
- CDN (e.g., Alibaba Cloud OSS, Tencent Cloud COS)

### Docker Deployment
```
docker compose up -d
```
