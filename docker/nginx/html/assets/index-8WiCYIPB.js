import{f as C,u as k,r,j as e,S}from"./index-Bqd9ntWg.js";import{P as I}from"./layout-17EtpOqI.js";import{u as P,b as E}from"./query.gen-DycqmmC7.js";import{L as M}from"./logo-DI8TcUuy.js";import{b as x}from"./buildImageUrl-UU-AqGIw.js";import{p as R}from"./avatar-DGIiPYzy.js";import{T}from"./index-Bua754-M.js";import{M as L}from"./index-BIpk_xcc.js";import{E as D}from"./index-C81jIois.js";import{C as F}from"./index-Cvh1Rscw.js";import{I as O}from"./index-BjgghHgF.js";import{R as $}from"./EllipsisOutlined-DJ-lU4UH.js";import"./ResponseCode-DASChpIM.js";import"./LeftOutlined-SuJsU2gG.js";import"./asyncToGenerator-C_d2R9__.js";import"./compact-item-BLNrSCAv.js";import"./useZIndex-CxNEmHgd.js";import"./button-w-BhhqNe.js";import"./render-CvJz5-Mq.js";import"./index-BesF1Zzs.js";import"./ToolOutlined-Yth8yYqz.js";import"./index-BWmRGx5f.js";import"./index-CVmKX9-z.js";import"./move-C6Ql-cRB.js";import"./index-D_2ZsiUY.js";import"./SwapOutlined-BPIwuBYF.js";const q=({agent:a,onSelectAgent:n})=>e.jsx(F,{className:"hover:shadow-md transition-shadow",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center flex-none",children:[e.jsx(O,{preview:!1,src:x(a.icon)||R,alt:"图标",width:40,height:40,className:"mr-4 rounded"}),e.jsx("h3",{className:"text-lg font-semibold m-2 flex-1",children:a.name}),e.jsx($,{onClick:i=>n(a,i),style:{fontSize:"24px",color:"#000"},className:"flex-none"})]}),e.jsx("p",{className:"text-gray-500 mt-4 mb-2 line-clamp-3",children:a.description})]})}),de=()=>{var p;const a=C().pathname,n=k(),i=(p=a==null?void 0:a.split("/"))==null?void 0:p[2],[f,c]=r.useState(!1),[s,m]=r.useState(),[h,u]=r.useState(0),{data:j}=P({...E({headers:{"Workspace-id":i},query:{tab:h}}),enabled:!!i}),{data:o}=j||{},b=r.useCallback((t,y)=>{y.stopPropagation(),m(t),c(!0)},[]),N=()=>o!=null&&o.length?e.jsx("div",{className:"flex flex-wrap grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-5 mt-4",children:o.map(t=>e.jsx(q,{agent:t,onSelectAgent:b},t.id))}):(o==null?void 0:o.length)===0?e.jsx(D,{}):e.jsx(S,{}),l=r.useMemo(()=>N(),[o]),g=r.useMemo(()=>[{key:"0",label:"全部",children:l},{key:"1",label:"系统",children:l},{key:"2",label:"来自分享",children:l},{key:"3",label:"我的",children:l}],[l]),d=()=>{m(void 0),c(!1)},v=t=>{console.log(t),u(Number(t))},w=r.useCallback(t=>{t.stopPropagation(),d(),n(`/dashboard/${i}/chat/${s==null?void 0:s.id}`)},[n,i,s]);return e.jsxs(I,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Agents名称"})}),e.jsx("div",{className:"flex justify-between items-center",children:e.jsx(T,{defaultActiveKey:"0",className:"flex-grow",items:g,onChange:v})})]}),e.jsx(L,{title:"Agent详情",closable:!0,onCancel:d,className:"!w-[538px]",footer:null,maskClosable:!1,open:f,centered:!0,children:e.jsxs("div",{className:"px-8 pt-10 flex flex-col items-center h-[500px]",children:[e.jsx("img",{className:"w-[120px] h-[120px]",src:x((s==null?void 0:s.icon)||"")||M}),e.jsx("div",{className:"font-xs mt-5",children:s==null?void 0:s.name}),e.jsxs("div",{className:"w-full mt-5 mb-16",children:[e.jsx("div",{className:"font-xs mb-3",children:"描述"}),e.jsx("div",{className:"font-xs text-black/25",children:s==null?void 0:s.description})]}),e.jsx("div",{onClick:w,className:"font-xs text-white w-[164px] h-8 flex items-center justify-center bg-[#1890FF] cursor-pointer",children:"开始聊天"})]})})]})};export{de as default};
